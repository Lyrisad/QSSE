<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="images/M√©daillon_Candor_Logo.png" type="image/png" />
    <link rel="stylesheet" href="style.css" />
    <title>Module Q.S.S.E</title>
  </head>
  <body>
    <div id="loading_page">
      <div class="condor_medaillon"></div>
      <div class="wrapper">
      <div class="valeurs" id="valeur1">
        Progresser <span class="stomp">ensemble</span>
      </div>
      <div class="valeurs" id="valeur2">
        Aimer <span class="stomp">rendre service</span>
      </div>
      <div class="valeurs" id="valeur3">
        Considerer <span class="stomp">chacun</span>
      </div>
      <div class="valeurs" id="valeur4">
        Respecter <span class="stomp">ses engagements</span>
      </div>
    </div>
      <div id="line"></div>
      <div id="next">‚ûî</div>
    </div>
    <div id="header_module">
      <div id="fb"></div>
      <div id="insta"></div>
      <div id="in"></div>
      <div class="condor_logo"></div>
    </div>
    <div id="login_page">
      <div id="login_box">
        <div id="login_med"></div>
        <label for="text">Cl√© d'authentification</label>
        <input type="text" id="auth"/>
        <label for="password">Mot de passe</label>
        <input type="password" id="mdp"/>
        <button id="login_button">Se connecter</button>
        <p id="errorMsg"></p>
      </div>
    </div>
    <div id="home_page_intro">
      <div id="home_page_image"></div>
      <div id="home_page_text">
        <h1 id="home_page_title">
          Bienvenue sur le
          <span class="stompTitle">module d'accueil</span> de Candor
        </h1>
        <p id="home_page_para">
          Ce module a pour but de vous former sur les valeurs de Candor. Vous
          pourrez apprendre √† les comprendre et √† les appliquer dans votre
          travail quotidien.
        </p>
        <button id="home_page_button">Allons plus loin ensemble ‚ûî</button>
      </div>
    </div>
    <div id="securitySpeach">
      <div class="leftPart">
        <h2>
          <span class="stompH2">Pr√©sentation et Instructions</span>
        </h2>
        <p>
          Bienvenue dans notre session de formation interactive. Avant de passer
          le Questionnaire √† Choix Multiples vous devez prendre connaissances
          des 5 modules suivants:
        </p>
        <h3 id="PGCM">1. Pr√©sentation du groupe Candor</h3>
        <h3 id="ESSM">2. Engagement Sant√© S√©curit√©</h3>
        <h3 id="NEMM">3. Notre expertise m√©tier</h3>
        <h3 id="EEM">4. Engagement environnemental</h3>
        <h3 id="SEM">5. Savoir √ätre</h3>
        <p>
          Vous pourrez ensuite tester vos connaissances en r√©pondant √† un
          questionnaire √† choix multiples. Vous devrez r√©pondre correctement √† 4
          questions pour valider votre formation.
        </p>
        <div id="retour">ü°∞</div>
      </div>
      <div class="rightPart">
        <h2><span class="stompH2">Instructions pour le QCM</span></h2>
        <p>
          <span class="stompP">Lire les 5 modules :</span> Prenez le temps de
          bien lire chaque module, ils vous aideront √† r√©pondre aux questions,
          le QCM ne se d√©bloque que lorsque vous avez parcouru tous les modules.
        </p>
        <p>
          <span class="stompP">Tester vos connaissances : </span>
          Lorsque vous avez fini de prendre connaissance des differents modules
          vous pourrez cliquer sur le bouton pour commencer le QCM.
        </p>
        <p>
          <span class="stompP">Remplir le formulaire initial : </span> Il vous
          sera demand√© de remplir un petit formulaire avant de commencer.
        </p>
        <p>
          <span class="stompP">R√©pondre aux 7 questions : </span> Chaque
          question a 3 choix. Il y'aura dans le cas d'une bonne ou mauvaise
          r√©ponse une explication pr√©cise de la bonne r√©ponse.
        </p>
        <p>
          Vous devez obtenir au moins 4 bonnes r√©ponses sur 7 pour r√©ussir.
          Bonne chance !
        </p>
        <div id="suivantSecurite">‚ûî</div>
      </div>
    </div>
    <div id="testZone">
      <div id="back">‚Æê</div>
      <div id="condorMed"></div>
      <div id="condorLogoDownRight"></div>
      <div id="moduleSection">
        <button id="PGC" class="moduleBtn">
          Pr√©sentation du groupe CANDOR
        </button>
        <button id="ESS" class="moduleBtn">Engagement sant√© et s√©curit√©</button>
        <button id="NEM" class="moduleBtn">Notre expertise m√©tier</button>
        <button id="EE" class="moduleBtn">Engagement environnemental</button>
        <button id="SE" class="moduleBtn">Savoir √ätre</button>
        <button id="TVC" class="moduleBtn">Testons vos connaissances</button>
      </div>
      <div id="reseaux">
        <div id="fb2"></div>
        <div id="insta2"></div>
        <div id="in2"></div>
      </div>
    </div>
    <div id="PGCZone">
      <div id="PGCSlide1">
        <div id="blur-wrapper"></div>
        <div id="medaCandorBlanc"></div>
        <div id="h1andp">
          <h1>Pr√©sentation du groupe CANDOR</h1>
          <p>
            Sp√©cialiste de terrain dans les m√©tiers de la propret√© et des
            services associ√©s.
          </p>
        </div>
        <button id="nextPGC">‚ûî</button>
      </div>
      <div id="PGCSlide2">
        <div id="backPGC1">ü°∞</div>
        <div id="graphEntite"></div>
        <div id="triforce">
          <div id="one"></div>
          <div id="two"></div>
          <div id="three"></div>
        </div>
        <div id="nextPGC3">‚ûî</div>
      </div>
      <div id="PGCSlide3">
        <div id="backPGC2">ü°∞</div>
        <div id="leader_reg"></div>
        <div id="nextPGC4">‚ûî</div>
      </div>
      <div id="PGCSlide4">
        <div id="backPGC3">ü°∞</div>
        <div id="lesQuatresV">
          <div id="v1"></div>
          <div id="v2"></div>
          <div id="v3"></div>
          <div id="v4"></div>
        </div>
        <div id="nextPGC5">‚úì</div>
      </div>
    </div>
    <div id="ESSZone"></div>
    <div id="NEMZone"></div>
    <div id="EEZone"></div>
    <div id="EMZone"></div>
    <div id="TVCzone">
      <div id="bonneReponse">
        <h2><span id="tickVert">‚úì</span> Bravo !</h2>
        <div class="QCM_image"></div>
        <p class="descriptif"></p>
        <div class="nextQuestion">‚ûî</div>
      </div>
      <div id="mauvaiseReponse">
        <h2><span id="tickRouge">‚ùå</span> Dommage !</h2>
        <div class="QCM_image"></div>
        <p class="descriptif"></p>
        <div class="nextQuestion">‚ûî</div>
      </div>
      <form id="questionnaireForm">
        <h2>Merci de remplir ce formulaire avant de commencer.</h2>
        <label for="nom" style="color: white">Nom</label>
        <input type="text" id="nom" name="nom" required />
        <label for="prenom" style="color: white">Pr√©nom</label>
        <input type="text" id="prenom" name="prenom" required />
        <label for="email" style="color: white">Email</label>
        <input type="email" id="email" name="email" required />
        <label for="ddn" style="color: white">Date de Naissance</label>
        <input type="date" id="ddn" name="ddn" required />
        <label for="entite" style="color: white">Soci√©t√© :</label>
        <select name="entite" id="entite">
          <option value="TERNETT">TERNETT</option>
          <option value="ERNETT">ERNETT</option>
          <option value="GAMMA">GAMMA</option>
          <option value="RIE">RIE</option>
          <option value="DAKIN">DAKIN</option>
          <option value="ECLANET">ECLANET</option>
          <option value="PRATIS">PRATIS</option>
          <option value="CREABAT">CREABAT</option>
          <option value="ALPHA">ALPHA</option>
          <option value="PNS">PNS</option>
        </select>
        <label for="cadre" style="color: white; margin-top: 20px"
          >Dans quel cadre effectuez-vous la formation :</label
        >
        <select name="cadre" id="cadre">
          <option value="Nouveau collaborateur">
            Nouveau collaborateur (par defaut)
          </option>
          <option value="Formation continue">Formation continue</option>
          <option value="Retour d'absence">Retour d'absence</option>
        </select>

        <button type="submit" id="submitForm">Suivant</button>
      </form>
      <div id="ready">
        <div id="back2">‚Æê</div>
        <h2>√ätes-vous pr√™t(e) √† tester vos connaissances ?</h2>
        <button id="start">Commencer le test ‚ûî</button>
      </div>
      <div id="question1">
        <h2>
          Quelle est la couleur de la microfibre √† utiliser pour la d√©sinfection
          (ex: poign√©e, interrupteur, etc ...) ?
        </h2>
        <button id="q1r1">Bleu</button>
        <button id="q1r2">Jaune</button>
        <button id="q1r3">Rouge</button>
      </div>
      <div id="question2">
        <h2>
          Quel est le nom de la m√©thode √† suivre pour le nettoyage des sols ?
        </h2>
        <button id="q2r1">En cercle</button>
        <button id="q2r2">En godille</button>
        <button id="q2r3">En zig-zag</button>
      </div>
      <div id="question3">
        <h2>Quelle est la tenue de travail obligatoire ?</h2>
        <button id="q3r1">Aucune tenue</button>
        <button id="q3r2">Blouse, chasuble ou T-shirt</button>
        <button id="q3r3">
          Blouse, Chasuble ou T-shirt + chassures de s√©curit√© + gants
        </button>
      </div>
      <div id="question4">
        <h2>Que faire avant de nettoyer le sol pour √©viter une glissade ?</h2>
        <button id="q4r1">Condamner la zone</button>
        <button id="q4r2">
          Poser un panneau de signalisation "Attention sol glissant"
        </button>
        <button id="q4r3">Pr√©venir oralement</button>
      </div>
      <div id="question5">
        <h2 id="q5row">
          Que signifie ce pictogramme : <span id="pictogrammeQ5"></span>
        </h2>
        <button id="q5r1">Tue</button>
        <button id="q5r2">Pollue</button>
        <button id="q5r3">Flambe</button>
      </div>
      <div id="question6">
        <h2>Quel geste prot√®ge ma plan√®te ?</h2>
        <button id="q6r1">Laisser les robinets ouverts</button>
        <button id="q6r2">
          S'assurer d'√©teindre la lumi√®re en quittant une pi√®ce
        </button>
        <button id="q6r3">Jeter les d√©chets par terre</button>
      </div>
      <div id="question7">
        <h2>
          Quelle est la posture adapt√©e √† adopter lorsque vous ramassez un objet
          pos√© au sol ?
        </h2>
        <button id="q7r1">
          Gardez les jambes droites et penchez-vous en avant pour saisir
          l'objet.
        </button>
        <button id="q7r2">
          Asseyez-vous par terre, ramassez l'objet et relevez-vous en utilisant
          vos bras pour vous appuyer.
        </button>
        <button id="q7r3">
          Pliez les genoux, gardez le dos droit et soulevez l'objet en utilisant
          la force de vos jambes.
        </button>
      </div>
      <div id="merci">
        <h1>Merci d'avoir r√©pondu √† notrlet next = document.getElementById("next");
let loadingPage = document.getElementById("loading_page");
let login_page = document.getElementById("login_page");
next.addEventListener("click", function () {
  loadingPage.style.animation = "disappearToTop 1s forwards";
  setTimeout(function () {
    loadingPage.style.display = "none";
  }, 1000);
});

let fb = document.getElementById("fb");
let fb2 = document.getElementById("fb2");
let insta = document.getElementById("insta");
let insta2 = document.getElementById("insta2");
let linkedin = document.getElementById("in");
let linkedin2 = document.getElementById("in2");

let condorLogoDownRight = document.getElementById("condorLogoDownRight");

condorLogoDownRight.addEventListener("click", function () {
  window.open("https://groupecandor.com/", "_blank");
});

fb.addEventListener("click", function () {
  window.open("https://www.facebook.com/legroupecandor/", "_blank");
});

fb2.addEventListener("click", function () {
  window.open("https://www.facebook.com/legroupecandor/", "_blank");
});

insta.addEventListener("click", function () {
  window.open("https://www.instagram.com/groupecandor/?hl=fr", "_blank");
});

insta2.addEventListener("click", function () {
  window.open("https://www.instagram.com/groupecandor/?hl=fr", "_blank");
});

linkedin.addEventListener("click", function () {
  window.open("https://fr.linkedin.com/company/groupecandor", "_blank");
});

linkedin2.addEventListener("click", function () {
  window.open("https://fr.linkedin.com/company/groupecandor", "_blank");
});

let condor_logo = document.querySelector(".condor_logo");
condor_logo.addEventListener("click", function () {
  location.href = "https://groupecandor.com/";
});

let login_button = document.getElementById("login_button");
let auth = document.getElementById("auth");
let mdp = document.getElementById("mdp");
let errorMsg = document.getElementById("errorMsg");

login_button.addEventListener("click", function () {
  if (auth.value == "MACQSSE2024" && mdp.value == "QSSE#2024Secure!") {
    login_page.style.animation = "disappearToLeft 1s forwards";
    setTimeout(function () {
      header_module.style.display = "flex";
      login_page.style.display = "none";
      homePage.style.display = "flex";
      homePage.style.animation = "appear 1s forwards";
      header_module.style.animation = "appearFromTop 1s forwards";
    }, 1000);
  } else {
    errorMsg.textContent = "Identifiants incorrects";
    errorMsg.style.display = "flex";
  }
});

document.addEventListener("keydown", function (e) {
  if (e.key === "Enter") {
    if (auth.value == "MACQSSE2024" && mdp.value == "QSSE#2024Secure!") {
      login_page.style.animation = "disappearToLeft 1s forwards";
      setTimeout(function () {
        login_page.style.display = "none";
        homePage.style.display = "flex";
        homePage.style.animation = "appear 1s forwards";
         header_module.style.display = "flex";
        header_module.style.animation = "appearFromTop 1s forwards";
      }, 1000);
    } else {
      errorMsg.textContent = "Identifiants incorrects";
      errorMsg.style.display = "flex";
    }
  }
});

let homePage = document.getElementById("home_page_intro");
let homePageButton = document.getElementById("home_page_button");
let securitySpeach = document.getElementById("securitySpeach");

homePageButton.addEventListener("click", function () {
  homePage.style.animation = "disappearToLeft 1s forwards";
  setTimeout(function () {
    securitySpeach.style.display = "flex";
    homePage.style.display = "none";
  }, 1000);
});

let retour = document.getElementById("retour");

retour.addEventListener("click", function () {
  securitySpeach.style.animation = "disappear 0.5s forwards";

  setTimeout(function () {
    homePage.style.display = "flex";
    securitySpeach.style.display = "none";
    securitySpeach.style.animation = "appear 1s ease-in-out";
  }, 600);

  homePage.style.animation = "appearFromLeft 1s forwards";
});
let header_module = document.getElementById("header_module");
let suivantSecurite = document.getElementById("suivantSecurite");
let testZone = document.getElementById("testZone");

suivantSecurite.addEventListener("click", function () {
  setTimeout(function () {
    header_module.style.display = "none";
    header_module.style.animation = "none";
    securitySpeach.style.display = "none";
    testZone.style.display = "flex";
    securitySpeach.style.animation = "appear 1s forwards";
  }, 1000);
  header_module.style.animation = "disappearToTop 1s forwards";
  securitySpeach.style.animation = "disappear 1s forwards";
});

let back = document.getElementById("back");

back.addEventListener("click", function () {
  header_module.style.display = "flex";
  securitySpeach.style.display = "flex";
  testZone.style.display = "none";
  header_module.style.animation = "appearFromTop 1s forwards";
  securitySpeach.style.animation = "appear 1s forwards";
});

let PGC = document.getElementById("PGC");
let PGCZone = document.getElementById("PGCZone");

PGC.addEventListener("click", function () {
  setTimeout(function () {
    testZone.style.display = "none";
    PGCZone.style.display = "flex";
    PGCZone.style.animation = "appear 1s forwards";
    testZone.style.animation = "appear 1s forwards";
  }, 1000);
  testZone.style.animation = "disappear 1s forwards";
});

let nextPGC = document.getElementById("nextPGC");
let backPGC = document.getElementById("backPGC");
let PGCSlide1 = document.getElementById("PGCSlide1");
let PGCSlide2 = document.getElementById("PGCSlide2");

nextPGC.addEventListener("click", function () {
  PGCSlide1.style.display = "none";
  PGCSlide2.style.display = "flex";
  PGCSlide3.style.display = "none";
  PGCSlide4.style.display = "none";
});

let PGCSlide3 = document.getElementById("PGCSlide3");
let backPGC1 = document.getElementById("backPGC1");
let nextPGC3 = document.getElementById("nextPGC3");

backPGC1.addEventListener("click", function () {
  PGCSlide4.style.display = "none";
  PGCSlide3.style.display = "none";
  PGCSlide2.style.display = "none";
  PGCSlide1.style.display = "flex";
});

nextPGC3.addEventListener("click", function () {
  PGCSlide1.style.display = "none";
  PGCSlide2.style.display = "none";
  PGCSlide3.style.display = "flex";
  PGCSlide4.style.display = "none";
});

let PGCSlide4 = document.getElementById("PGCSlide4");
let backPGC2 = document.getElementById("backPGC2");
let nextPGC4 = document.getElementById("nextPGC4");

backPGC2.addEventListener("click", function () {
  PGCSlide4.style.display = "none";
  PGCSlide3.style.display = "none";
  PGCSlide2.style.display = "flex";
  PGCSlide1.style.display = "none";
});

nextPGC4.addEventListener("click", function () {
  PGCSlide1.style.display = "none";
  PGCSlide2.style.display = "none";
  PGCSlide3.style.display = "none";
  PGCSlide4.style.display = "flex";
});

let backPGC3 = document.getElementById("backPGC3");
let nextPGC5 = document.getElementById("nextPGC5");

backPGC3.addEventListener("click", function () {
  PGCSlide4.style.display = "none";
  PGCSlide3.style.display = "flex";
  PGCSlide2.style.display = "none";
  PGCSlide1.style.display = "none";
});

nextPGC5.addEventListener("click", function () {
  setTimeout(function () {
    PGCSlide4.style.display = "none";
    PGCSlide1.style.display = "flex";
    PGCZone.style.display = "none";
    testZone.style.display = "flex";
    PGCZone.style.animation = "appear 1s forwards";
    testZone.style.animation = "appear 1s forwards";
  }, 1000);
  PGCZone.style.animation = "disappear 1s forwards";
});

let TVC = document.getElementById("TVC");
let TVCzone = document.getElementById("TVCzone");

TVC.addEventListener("click", function () {
  setTimeout(function () {
    testZone.style.display = "none";
    TVCzone.style.display = "flex";
    TVCzone.style.animation = "appear 1s forwards";
  }, 1000);
  testZone.style.animation = "disappear 1s forwards";
});

let ready = document.getElementById("ready");
let start = document.getElementById("start");
let back2 = document.getElementById("back2");
let current = document.getElementById("current");
let question1 = document.getElementById("question1");
let q1r1 = document.getElementById("q1r1");
let q1r2 = document.getElementById("q1r2");
let q1r3 = document.getElementById("q1r3");
let question2 = document.getElementById("question2");
let q2r1 = document.getElementById("q2r1");
let q2r2 = document.getElementById("q2r2");
let q2r3 = document.getElementById("q2r3");
let question3 = document.getElementById("question3");
let q3r1 = document.getElementById("q3r1");
let q3r2 = document.getElementById("q3r2");
let q3r3 = document.getElementById("q3r3");
let question4 = document.getElementById("question4");
let q4r1 = document.getElementById("q4r1");
let q4r2 = document.getElementById("q4r2");
let q4r3 = document.getElementById("q4r3");
let question5 = document.getElementById("question5");
let q5r1 = document.getElementById("q5r1");
let q5r2 = document.getElementById("q5r2");
let q5r3 = document.getElementById("q5r3");
let question6 = document.getElementById("question6");
let q6r1 = document.getElementById("q6r1");
let q6r2 = document.getElementById("q6r2");
let q6r3 = document.getElementById("q6r3");
let question7 = document.getElementById("question7");
let q7r1 = document.getElementById("q7r1");
let q7r2 = document.getElementById("q7r2");
let q7r3 = document.getElementById("q7r3");

back2.addEventListener("click", function () {
  setTimeout(function () {
    TVCzone.style.display = "none";
    testZone.style.display = "flex";
    TVCzone.style.animation = "appear 1s forwards";
    testZone.style.animation = "appear 1s forwards";
  }, 1000);
  TVCzone.style.animation = "disappear 1s forwards";
});

let questionnaireForm = document.getElementById("questionnaireForm");
let submitForm = document.getElementById("submitForm");
let nom = document.getElementById("nom");
let prenom = document.getElementById("prenom");
let email = document.getElementById("email");
let entite = document.getElementById("entite");
let cadre = document.getElementById("cadre");
let dateNaissance = document.getElementById("ddn");

let formData; // Declare a global variable to store the form data

submitForm.addEventListener("click", function (e) {
  e.preventDefault();
  if (nom.value != "" && prenom.value != "" && email.value != "") {
    formData = {
      date: new Date().toLocaleString(),
      entite: entite.value,
      nom: nom.value,
      prenom: prenom.value,
      email: email.value,
      dateNaissance: dateNaissance.value,
      cadre: cadre.value,
    };
    questionnaireForm.style.display = "none";
    ready.style.display = "flex";
  }
  // Remove the fetch call from here
});

start.addEventListener("click", function () {
  setTimeout(function () {
    ready.style.display = "none";
    question1.style.display = "flex";
    ready.style.animation = "appear 1s forwards";
    question1.style.animation = "appear 1s forwards";
  }, 1000);
  ready.style.animation = "disappear 1s forwards";
});

let bonneReponse = document.getElementById("bonneReponse");
let mauvaiseReponse = document.getElementById("mauvaiseReponse");
let descriptif = document.querySelectorAll(".descriptif");
let nextQuestion = document.querySelectorAll(".nextQuestion");
let QCM_image = document.querySelectorAll(".QCM_image");
let questionCount = 0;
console.log(descriptif);
// Function to disable other buttons in the same question group
// Function to disable other buttons in the same question group
function disableQuestionButtons(buttons) {
  buttons.forEach((button) => {
    button.removeEventListener("click", button._clickHandler);
  });
}

// Assign click handlers to question buttons
function assignClickHandler(button, clickHandler) {
  button._clickHandler = clickHandler;
  button.addEventListener("click", clickHandler);
}

function countGoodAnswers() {
  let goodAnswers = 0;
  if (q1r2.style.backgroundColor == "green") {
    goodAnswers++;
  }
  if (q2r2.style.backgroundColor == "green") {
    goodAnswers++;
  }
  if (q3r3.style.backgroundColor == "green") {
    goodAnswers++;
  }
  if (q4r2.style.backgroundColor == "green") {
    goodAnswers++;
  }
  if (q5r1.style.backgroundColor == "green") {
    goodAnswers++;
  }
  if (q6r2.style.backgroundColor == "green") {
    goodAnswers++;
  }
  if (q7r3.style.backgroundColor == "green") {
    goodAnswers++;
  }
  console.log(goodAnswers);
  return goodAnswers;
}

// Question 1
let q1Buttons = [q1r1, q1r2, q1r3];
assignClickHandler(q1r1, function () {
  disableQuestionButtons(q1Buttons);
  q1r1.style.backgroundColor = "red";
  q1r1.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question1.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question1.style.animation = "appear 1s forwards";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent =
        "Pour chaque t√¢che sa couleur, pour un nettoyage sans erreur!";
    });
  }, 2000);
  question1.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q1r2, function () {
  disableQuestionButtons(q1Buttons);
  q1r2.style.backgroundColor = "green";
  q1r2.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question1.style.display = "none";
    bonneReponse.style.display = "flex";
    question1.style.animation = "appear 1s forwards";
    bonneReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent =
        "Pour chaque t√¢che sa couleur, pour un nettoyage sans erreur!";
    });
  }, 2000);
  question1.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q1r3, function () {
  disableQuestionButtons(q1Buttons);
  q1r3.style.backgroundColor = "red";
  q1r3.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question1.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question1.style.animation = "appear 1s forwards";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent =
        "Pour chaque t√¢che sa couleur, pour un nettoyage sans erreur!";
    });
  }, 2000);
  question1.style.animation = "disappear 1s forwards 1s";
});

// Question 2
let q2Buttons = [q2r1, q2r2, q2r3];
assignClickHandler(q2r1, function () {
  disableQuestionButtons(q2Buttons);
  q2r1.style.backgroundColor = "red";
  q2r1.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question2.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question2.style.animation = "appear 1s forwards";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent = "Avec la godille, le sol scintille!";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/2.png')";
      element.style.backgroundSize = "contain";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "200px";
    });
  }, 2000);
  question2.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q2r2, function () {
  disableQuestionButtons(q2Buttons);
  q2r2.style.backgroundColor = "green";
  q2r2.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question2.style.display = "none";
    bonneReponse.style.display = "flex";
    question2.style.animation = "appear 1s forwards";
    bonneReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent = "Avec la godille, le sol scintille!";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/2.png')";
      element.style.backgroundSize = "contain";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "200px";
    });
  }, 2000);
  question2.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q2r3, function () {
  disableQuestionButtons(q2Buttons);
  q2r3.style.backgroundColor = "red";
  q2r3.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question2.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question2.style.animation = "appear 1s forwards";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent = "Avec la godille, le sol scintille!";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/2.png')";
      element.style.backgroundSize = "contain";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "200px";
    });
  }, 2000);
  question2.style.animation = "disappear 1s forwards 1s";
});

// Question 3
let q3Buttons = [q3r1, q3r2, q3r3];
assignClickHandler(q3r1, function () {
  disableQuestionButtons(q3Buttons);
  q3r1.style.backgroundColor = "red";
  q3r1.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question3.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question3.style.animation = "appear 1s forwards";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent =
        "Des gants aujourd'hui, des mains demain, mieux vaut marcher lourdement que boiter tristement.";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/3.png')";
      element.style.backgroundSize = "contain";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "350px";
    });
  }, 2000);
  question3.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q3r2, function () {
  disableQuestionButtons(q3Buttons);
  q3r2.style.backgroundColor = "red";
  q3r2.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question3.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question3.style.animation = "appear 1s forwards";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent =
        "Des gants aujourd'hui, des mains demain, mieux vaut marcher lourdement que boiter tristement.";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/3.png')";
      element.style.backgroundSize = "contain";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "350px";
    });
  }, 2000);
  question3.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q3r3, function () {
  disableQuestionButtons(q3Buttons);
  q3r3.style.backgroundColor = "green";
  q3r3.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question3.style.display = "none";
    bonneReponse.style.display = "flex";
    question3.style.animation = "appear 1s forwards";
    bonneReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent =
        "Des gants aujourd'hui, des mains demain, mieux vaut marcher lourdement que boiter tristement.";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/3.png')";
      element.style.backgroundSize = "contain";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "350px";
    });
  }, 2000);
  question3.style.animation = "disappear 1s forwards 1s";
});

// Question 4
let q4Buttons = [q4r1, q4r2, q4r3];
assignClickHandler(q4r1, function () {
  disableQuestionButtons(q4Buttons);
  q4r1.style.backgroundColor = "red";
  q4r1.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question4.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question4.style.animation = "appear 1s forwards";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent = "Il vaut mieux pr√©venir que gu√©rir.";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/4.png')";
      element.style.backgroundSize = "contain";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "200px";
    });
  }, 2000);
  question4.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q4r2, function () {
  disableQuestionButtons(q4Buttons);
  q4r2.style.backgroundColor = "green";
  q4r2.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question4.style.display = "none";
    bonneReponse.style.display = "flex";
    question4.style.animation = "appear 1s forwards";
    bonneReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent = "Il vaut mieux pr√©venir que gu√©rir.";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/4.png')";
      element.style.backgroundSize = "contain";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "200px";
    });
  }, 2000);
  question4.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q4r3, function () {
  disableQuestionButtons(q4Buttons);
  q4r3.style.backgroundColor = "red";
  q4r3.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question4.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question4.style.animation = "appear 1s forwards";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent = "Il vaut mieux pr√©venir que gu√©rir.";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/4.png')";
      element.style.backgroundSize = "contain";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "200px";
    });
  }, 2000);
  question4.style.animation = "disappear 1s forwards 1s";
});

// Question 5
let q5Buttons = [q5r1, q5r2, q5r3];
assignClickHandler(q5r1, function () {
  disableQuestionButtons(q5Buttons);
  q5r1.style.backgroundColor = "green";
  q5r1.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question5.style.display = "none";
    bonneReponse.style.display = "flex";
    question5.style.animation = "appear 1s forwards";
    bonneReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent = "Suivre les pictogrammes, c'est √©viter les drames!";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/5.png')";
      element.style.backgroundSize = "contain";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "350px";
    });
  }, 2000);
  question5.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q5r2, function () {
  disableQuestionButtons(q5Buttons);
  q5r2.style.backgroundColor = "red";
  q5r2.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question5.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question5.style.animation = "appear 1s forwards";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent = "Suivre les pictogrammes, c'est √©viter les drames!";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/5.png')";
      element.style.backgroundSize = "contain";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "350px";
    });
  }, 2000);
  question5.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q5r3, function () {
  disableQuestionButtons(q5Buttons);
  q5r3.style.backgroundColor = "red";
  q5r3.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question5.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question5.style.animation = "appear 1s forwards";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent = "Suivre les pictogrammes, c'est √©viter les drames!";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/5.png')";
      element.style.backgroundSize = "contain";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "350px";
    });
  }, 2000);
  question5.style.animation = "disappear 1s forwards 1s";
});

// Question 6
let q6Buttons = [q6r1, q6r2, q6r3];
assignClickHandler(q6r1, function () {
  disableQuestionButtons(q6Buttons);
  q6r1.style.backgroundColor = "red";
  q6r1.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question6.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question6.style.animation = "appear 1s forwards";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent =
        "Respecter l'environnement, pour un avenir √©clatant!";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/eco.png')";
      element.style.backgroundSize = "contain";
      element.style.borderRadius = "15px";
      element.style.backgroundRepeat = "no-repeat";
    });
  }, 2000);
  question6.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q6r2, function () {
  disableQuestionButtons(q6Buttons);
  q6r2.style.backgroundColor = "green";
  q6r2.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question6.style.display = "none";
    bonneReponse.style.display = "flex";
    question6.style.animation = "appear 1s forwards";
    bonneReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent =
        "Respecter l'environnement, pour un avenir √©clatant!";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/eco.png')";
      element.style.backgroundSize = "contain";
      element.style.borderRadius = "15px";
      element.style.backgroundRepeat = "no-repeat";
    });
  }, 2000);
  question6.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q6r3, function () {
  disableQuestionButtons(q6Buttons);
  q6r3.style.backgroundColor = "red";
  q6r3.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question6.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question6.style.animation = "appear 1s forwards";
    element.style.borderRadius = "15px";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent =
        "Respecter l'environnement, pour un avenir √©clatant!";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/eco.png')";
      element.style.backgroundSize = "contain";
      element.style.borderRadius = "15px";
      element.style.backgroundRepeat = "no-repeat";
    });
  }, 2000);
  question6.style.animation = "disappear 1s forwards 1s";
});

// Question 7
let q7Buttons = [q7r1, q7r2, q7r3];
assignClickHandler(q7r1, function () {
  disableQuestionButtons(q7Buttons);
  q7r1.style.backgroundColor = "red";
  q7r1.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question7.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question7.style.animation = "appear 1s forwards";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent =
        "Garder le dos droit, c'est √©viter bien des tracas!";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/7.png')";
      element.style.backgroundSize = "contain";
      element.style.borderRadius = "0px";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "350px";
    });
  }, 2000);
  question7.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q7r2, function () {
  disableQuestionButtons(q7Buttons);
  q7r2.style.backgroundColor = "red";
  q7r2.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question7.style.display = "none";
    mauvaiseReponse.style.display = "flex";
    question7.style.animation = "appear 1s forwards";
    mauvaiseReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent =
        "Garder le dos droit, c'est √©viter bien des tracas!";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/7.png')";
      element.style.backgroundSize = "contain";
      element.style.backgroundRepeat = "no-repeat";
      element.style.borderRadius = "0px";
      element.style.height = "350px";
    });
  }, 2000);
  question7.style.animation = "disappear 1s forwards 1s";
});

assignClickHandler(q7r3, function () {
  disableQuestionButtons(q7Buttons);
  q7r3.style.backgroundColor = "green";
  q7r3.style.animation = "blinking 0.2s infinite";
  setTimeout(function () {
    question7.style.display = "none";
    bonneReponse.style.display = "flex";
    question7.style.animation = "appear 1s forwards";
    bonneReponse.style.animation = "appear 1s forwards";
    descriptif.forEach((element) => {
      element.textContent =
        "Garder le dos droit, c'est √©viter bien des tracas!";
    });
    QCM_image.forEach((element) => {
      element.style.background = "url('images/QCM_images/7.png')";
      element.style.backgroundSize = "contain";
      element.style.borderRadius = "0px";
      element.style.backgroundRepeat = "no-repeat";
      element.style.height = "350px";
    });
  }, 2000);
  question7.style.animation = "disappear 1s forwards 1s";
});

let merci = document.getElementById("merci");
let finish = document.getElementById("finish");

nextQuestion.forEach((element) => {
  element.addEventListener("click", function () {
    console.log(questionCount);
    if (questionCount == 0) {
      setTimeout(function () {
        questionCount = 1;
        bonneReponse.style.display = "none";
        mauvaiseReponse.style.display = "none";
        question2.style.display = "flex";
        mauvaiseReponse.style.animation = "appear 1s forwards";
        bonneReponse.style.animation = "appear 1s forwards";
        question2.style.animation = "appear 1s forwards";
      }, 1000);
      mauvaiseReponse.style.animation = "disappear 1s forwards";
      bonneReponse.style.animation = "disappear 1s forwards";
    } else if (questionCount == 1) {
      setTimeout(function () {
        questionCount = 2;
        bonneReponse.style.display = "none";
        mauvaiseReponse.style.display = "none";
        question3.style.display = "flex";
        mauvaiseReponse.style.animation = "appear 1s forwards";
        bonneReponse.style.animation = "appear 1s forwards";
        question3.style.animation = "appear 1s forwards";
      }, 1000);
      mauvaiseReponse.style.animation = "disappear 1s forwards";
      bonneReponse.style.animation = "disappear 1s forwards";
    } else if (questionCount == 2) {
      setTimeout(function () {
        questionCount = 3;
        bonneReponse.style.display = "none";
        mauvaiseReponse.style.display = "none";
        question4.style.display = "flex";
        mauvaiseReponse.style.animation = "appear 1s forwards";
        bonneReponse.style.animation = "appear 1s forwards";
        question4.style.animation = "appear 1s forwards";
      }, 1000);
      mauvaiseReponse.style.animation = "disappear 1s forwards";
      bonneReponse.style.animation = "disappear 1s forwards";
    } else if (questionCount == 3) {
      setTimeout(function () {
        questionCount = 4;
        bonneReponse.style.display = "none";
        mauvaiseReponse.style.display = "none";
        question5.style.display = "flex";
        mauvaiseReponse.style.animation = "appear 1s forwards";
        bonneReponse.style.animation = "appear 1s forwards";
        question5.style.animation = "appear 1s forwards";
      }, 1000);
      mauvaiseReponse.style.animation = "disappear 1s forwards";
      bonneReponse.style.animation = "disappear 1s forwards";
    } else if (questionCount == 4) {
      setTimeout(function () {
        questionCount = 5;
        bonneReponse.style.display = "none";
        mauvaiseReponse.style.display = "none";
        question6.style.display = "flex";
        mauvaiseReponse.style.animation = "appear 1s forwards";
        bonneReponse.style.animation = "appear 1s forwards";
        question6.style.animation = "appear 1s forwards";
      }, 1000);
      mauvaiseReponse.style.animation = "disappear 1s forwards";
      bonneReponse.style.animation = "disappear 1s forwards";
    } else if (questionCount == 5) {
      setTimeout(function () {
        questionCount = 6;
        bonneReponse.style.display = "none";
        mauvaiseReponse.style.display = "none";
        question7.style.display = "flex";
        mauvaiseReponse.style.animation = "appear 1s forwards";
        bonneReponse.style.animation = "appear 1s forwards";
        question7.style.animation = "appear 1s forwards";
      }, 1000);
      mauvaiseReponse.style.animation = "disappear 1s forwards";
      bonneReponse.style.animation = "disappear 1s forwards";
    } else {
      countGoodAnswers();
      setTimeout(function () {
        question7.style.display = "none";
        mauvaiseReponse.style.display = "none";
        bonneReponse.style.display = "none";
        merci.style.display = "flex";
        merci.style.animation = "appear 1s forwards";
      }, 1000);
      mauvaiseReponse.style.animation = "disapear 1s forwards";
      bonneReponse.style.animation = "disapear 1s forwards";
    }
  });
});

let finishButton = document.getElementById("finish");

finishButton.addEventListener("click", function () {
  // Disable the button to prevent multiple clicks
  finishButton.disabled = true;

  let goodAnswers = countGoodAnswers(); // This will count the correct answers

  const dataToSend = {
    ...formData,
    goodAnswers: goodAnswers + "/7",
    result: goodAnswers >= 4 ? "Valid√©" : "Non valid√©",
  };

  // Send the combined data to Google Drive
  fetch(
    "https://script.google.com/macros/s/AKfycbxEZAjH-mIei53unNUN6aMBByEEQRKucJGpHeGYATU9lLPBszFPjNGgw2Z9C8Gkwt8/exec",
    {
      method: "POST",
      body: JSON.stringify(dataToSend),
    }
  )
    .then((response) => response.text())
    .then((data) => {
      console.log(data);
      alert("Responses submitted successfully!");
    })
    .catch((error) => console.error("Error:", error))
    .finally(() => {
      // Reload the page after 1 second
      setTimeout(function () {
        location.reload();
      }, 1000);
    });
});e module d'accueil Q.S.S.E !</h1>
        <button id="finish">Terminer</button>
      </div>
    </div>
    <script src="script.js"></script>
  </body>
</html>